params {
  // Inputs
  reference_path = "data/ref/hs38DH.fa"

  // Glob of cram files assumes filename format ID.*.cram
  cram_files = "data/crams/*.cram"

  // Settings
  //chromosomes = ["chr11", "chr12"]
  chromosomes = ["chr11"]
  prune_limits = [1.00, 0.25, 0.50, 0.75]
}

executor {
  $slurm {
    queueSize = 1000
    jobName = { "bravo_coverage" }
  }

  $local {
    cpus = 3 
   }
}

// To run on cluster use: nextflow run Coverage.nf -profile slurm
profiles {
  standard {
    process.executor = 'local'
  }

  slurm {
    process {
      executor = 'slurm'
      errorStrategy = 'retry'
      maxRetries = 3
      module = ['htslib','samtools', 'bam_util', 'data_prep', 'python3', 'miller']

      withLabel: highmem {
        queue = "highmem"
        memory = "16 GB"
        cpus = 2
      }

      withLabel: highcpu {
        queue = "highcpu"
        memory = "0.75 GB"
        cpus = 1
      }
    }
  }
}
